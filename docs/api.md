# Table of contents

- [reportSizeImpactIntoGithubPullRequest](#reportSizeImpactIntoGithubPullRequest)
  - [projectDirectoryUrl](#projectDirectoryUrl)
  - [logLevel](#loglevel)
  - [baseSnapshotFileRelativeUrl](#baseSnapshotFileRelativeUrl)
  - [headSnapshotFileRelativeUrl](#headSnapshotFileRelativeUrl)
  - [formatSize](#formatsize)

## reportSizeImpactIntoGithubPullRequest

> `reportSizeImpactIntoGithubPullRequest` is an async function comparing two folder size and commenting a github pull request with the comparison result.

Implemented in [src/reportSizeImpactIntoGithubPullRequest.js](../src/reportSizeImpactIntoGithubPullRequest.js), you can use it as shown below.

```js
const { reportSizeImpactIntoGithubPullRequest } = require("@jsenv/continuous-size-reporting")

reportSizeImpactIntoGithubPullRequest({
  projectDirectoryUrl: "file:///Users/you/directory",
  baseSnapshotFileRelativeUrl: "../base-snapshot.json",
  headSnapshotFileRelativeUrl: "../head-snapshot.json",
  logLevel: "info",
  formatSize: (sizeInBytes) => `${sizeInBytes} bytes`,
  generatedByLink: true,
})
```

â€” see [source code on github](../src/reportSizeImpactIntoGithubPullRequest/reportSizeImpactIntoGithubPullRequest.js)

### projectDirectoryUrl

> `projectDirectoryUrl` parameter is a string leading to your project root folder.

This parameter is **required**, an example value could be:

```js
"file:///Users/you/directory"
```

---

### logLevel

> `logLevel` parameter controls verbosity of logs during the function execution.

This parameter is optionnal, the default value is:

```json
"info"
```

The list of available logLevel values can be found on [@jsenv/logger documentation](https://github.com/jsenv/jsenv-logger#list-of-log-levels)

---

### baseSnapshotFileRelativeUrl

> `baseSnapshotFileRelativeUrl` is a string leading to the base snapshot file.

This parameter is **required**, an example value could be:

```js
"../base-snapshot.json"
```

---

### headSnapshotFileRelativeUrl

> `headSnapshotFileRelativeUrl` is a string leading to the head snapshot file.

This parameter is **required**, an example value could be:

```js
"../head-snapshot.json"
```

---

### formatSize

> `formatSize` parameter controls the display of file size.

This parameter is optionnal, the default value is:

<!-- prettier-ignore -->
```js
(sizeInBytes) => `${sizeInBytes.toLocaleString()} bytes`
```

---

### generatedByLink

> `generatedByLink` parameter controls if pull request comment contains a generated by message.

This parameter is optionnal, the default value is:

```js
true
```

This parameter allows someone to understand where the pull request message comes from.
