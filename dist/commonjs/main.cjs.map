{"version":3,"file":"main.cjs","sources":["../../node_modules/@jsenv/logger/src/LOG_LEVELS.js","../../node_modules/@jsenv/logger/src/createLogger.js","../../node_modules/@jsenv/util/node_modules/@jsenv/url-meta/src/internal/assertUrlLike.js","../../node_modules/@jsenv/util/node_modules/@jsenv/url-meta/src/applySpecifierPatternMatching.js","../../node_modules/@jsenv/util/node_modules/@jsenv/url-meta/src/internal/isPlainObject.js","../../node_modules/@jsenv/util/node_modules/@jsenv/url-meta/src/metaMapToSpecifierMetaMap.js","../../node_modules/@jsenv/util/node_modules/@jsenv/url-meta/src/internal/assertSpecifierMetaMap.js","../../node_modules/@jsenv/util/node_modules/@jsenv/url-meta/src/normalizeSpecifierMetaMap.js","../../node_modules/@jsenv/util/node_modules/@jsenv/url-meta/src/urlCanContainsMetaMatching.js","../../node_modules/@jsenv/util/node_modules/@jsenv/url-meta/src/urlToMeta.js","../../node_modules/@jsenv/util/src/internal/ensureUrlTrailingSlash.js","../../node_modules/@jsenv/util/src/isFileSystemPath.js","../../node_modules/@jsenv/util/src/fileSystemPathToUrl.js","../../node_modules/@jsenv/util/src/assertAndNormalizeDirectoryUrl.js","../../node_modules/@jsenv/util/src/assertAndNormalizeFileUrl.js","../../node_modules/@jsenv/util/src/internal/statsToType.js","../../node_modules/@jsenv/util/src/urlToFileSystemPath.js","../../node_modules/@jsenv/util/src/internal/permissions.js","../../node_modules/@jsenv/util/src/writeFileSystemNodePermissions.js","../../node_modules/@jsenv/util/src/readFileSystemNodeStat.js","../../node_modules/@jsenv/util/src/bufferToEtag.js","../../node_modules/@jsenv/cancellation/src/createCancellationToken.js","../../node_modules/@jsenv/cancellation/src/operation/createOperation.js","../../node_modules/@jsenv/cancellation/src/cancelError.js","../../node_modules/@jsenv/cancellation/src/internal/arrayHelper.js","../../node_modules/@jsenv/cancellation/src/createCancellationSource.js","../../node_modules/@jsenv/util/src/catchCancellation.js","../../node_modules/@jsenv/util/src/readDirectory.js","../../node_modules/@jsenv/util/src/internal/getCommonPathname.js","../../node_modules/@jsenv/util/src/internal/pathnameToDirectoryPathname.js","../../node_modules/@jsenv/util/src/urlToRelativeUrl.js","../../node_modules/@jsenv/util/src/comparePathnames.js","../../node_modules/@jsenv/util/src/collectFiles.js","../../node_modules/@jsenv/util/src/writeDirectory.js","../../node_modules/@jsenv/util/src/resolveUrl.js","../../node_modules/@jsenv/util/src/ensureWindowsDriveLetter.js","../../node_modules/@jsenv/util/src/ensureParentDirectories.js","../../node_modules/@jsenv/util/src/writeSymbolicLink.js","../../node_modules/@jsenv/util/node_modules/@jsenv/node-signals/src/SIGUPSignal.js","../../node_modules/@jsenv/util/node_modules/@jsenv/node-signals/src/SIGINTSignal.js","../../node_modules/@jsenv/util/node_modules/@jsenv/node-signals/src/SIGTERMSignal.js","../../node_modules/@jsenv/util/node_modules/@jsenv/node-signals/src/beforeExitSignal.js","../../node_modules/@jsenv/util/node_modules/@jsenv/node-signals/src/exitSignal.js","../../node_modules/@jsenv/util/node_modules/@jsenv/node-signals/src/teardownSignal.js","../../node_modules/@jsenv/util/src/createCancellationTokenForProcess.js","../../node_modules/@jsenv/util/src/readFile.js","../../node_modules/@jsenv/util/src/internal/createWatcher.js","../../node_modules/@jsenv/util/src/registerDirectoryLifecycle.js","../../node_modules/@jsenv/util/src/resolveDirectoryUrl.js","../../node_modules/@jsenv/util/src/writeFile.js","../../src/jsenvDirectorySizeTrackingConfig.js","../../src/generateSnapshotFile.js","../../node_modules/@jsenv/server/src/convertFileSystemErrorToResponseProperties.js","../../node_modules/@jsenv/server/src/internal/observable.js","../../node_modules/@jsenv/core/src/internal/bundling/import-meta-commonjs.js","../../node_modules/@jsenv/server/src/jsenvContentTypeMap.js","../../node_modules/@jsenv/server/src/urlToContentType.js","../../node_modules/@jsenv/server/src/serveFile.js","../../node_modules/@jsenv/server/src/fetchUrl.js","../../node_modules/@jsenv/server/src/startServer.js","../../src/internal/getPullRequestCommentMatching.js","../../src/internal/createPullRequestComment.js","../../src/internal/updatePullRequestComment.js","../../src/internal/generatePullRequestCommentString.js","../../src/internal/compareTwoSnapshots.js","../../src/reportSizeImpactIntoGithubPullRequest.js"],"sourcesContent":null,"names":["LOG_LEVEL_OFF","LOG_LEVEL_DEBUG","LOG_LEVEL_INFO","LOG_LEVEL_WARN","LOG_LEVEL_ERROR","createLogger","logLevel","debug","info","warn","error","debugDisabled","infoDisabled","warnDisabled","errorDisabled","Error","console","assertUrlLike","value","name","TypeError","isWindowsPathnameSpecifier","hasScheme","specifier","firstChar","test","secondChar","thirdChar","applySpecifierPatternMatching","url","rest","Object","keys","length","applyPatternMatching","pattern","string","patternIndex","index","remainingPattern","remainingString","pass","fail","slice","skipResult","skipUntilMatch","matched","slashIndex","indexOf","skippablePredicate","bestMatch","matchAttempt","skippable","Math","max","isPlainObject","Array","isArray","metaMapToSpecifierMetaMap","metaMap","specifierMetaMap","forEach","metaKey","specifierValueMap","metaValue","meta","assertSpecifierMetaMap","checkComposition","plainObject","key","normalizeSpecifierMetaMap","specifierMetaMapNormalized","specifierResolved","String","URL","urlCanContainsMetaMatching","predicate","endsWith","fullMatchMeta","someFullMatch","partialMatchMetaArray","push","Boolean","some","partialMatchMeta","urlToMeta","reduce","previousMeta","ensureUrlTrailingSlash","isFileSystemPath","startsWithWindowsDriveLetter","fileSystemPathToUrl","pathToFileURL","assertAndNormalizeDirectoryUrl","urlString","href","e","startsWith","assertAndNormalizeFileUrl","baseUrl","statsToType","stats","isFile","isDirectory","isSymbolicLink","isFIFO","isSocket","isCharacterDevice","isBlockDevice","undefined","urlToFileSystemPath","fileUrl","fileSystemPath","fileURLToPath","S_IRUSR","S_IWUSR","S_IXUSR","S_IRGRP","S_IWGRP","S_IXGRP","S_IROTH","S_IWOTH","S_IXOTH","permissionsToBinaryFlags","owner","group","others","binaryFlags","read","write","execute","writeFileSystemNodePermissions","source","permissions","sourceUrl","sourcePath","getPermissionOrComputeDefault","chmodNaive","Promise","resolve","reject","chmod","actionLevels","subjectLevels","action","subject","subjectPermissions","actionLevel","actionFallback","find","actionFallbackCandidate","subjectLevel","subjectFallback","subjectFallbackCandidate","isWindows","process","platform","readFileSystemNodeStat","nullIfNotFound","followLink","handleNotFoundOption","handleNotFoundError","readStat","handlePermissionDeniedError","nodeMethod","stat","lstat","statsObject","code","ETAG_FOR_EMPTY_CONTENT","bufferToEtag","buffer","Buffer","isBuffer","hash","createHash","update","hashBase64String","digest","hashBase64StringSubset","toString","createCancellationToken","register","callback","unregister","throwIfRequested","cancellationRequested","createOperation","cancellationToken","start","unknownArgumentNames","promise","cancelPromise","cancelRegistration","cancelError","then","operationPromise","race","createCancelError","reason","isCancelError","arrayWithout","array","item","arrayWithoutItem","i","createCancellationSource","requested","registrationArray","cancel","registrationArrayCopy","registration","existingRegistration","token","catchCancellation","asyncFn","catch","readDirectory","emfileMaxWait","directoryUrl","directoryPath","startMs","Date","now","attemptCount","attempt","readdirNaive","handleTooManyFilesOpenedError","nowMs","timeSpentWaiting","setTimeout","readdir","names","getCommonPathname","pathname","otherPathname","firstDifferentCharacterIndex","findFirstDifferentCharacterIndex","commonString","charAt","firstDifferentSlashIndex","lastIndexOf","otherString","maxCommonLength","min","char","otherChar","pathnameToDirectoryPathname","slashLastIndex","urlToRelativeUrl","urlArg","baseUrlArg","protocol","username","password","host","search","basePathname","commonPathname","specificPathname","baseSpecificPathname","baseSpecificDirectoryPathname","relativeDirectoriesNotation","replace","relativePathname","comparePathnames","leftPathame","rightPathname","leftPartArray","split","rightPartArray","leftLength","rightLength","maxLength","leftPartExists","rightPartExists","leftPartIsLast","rightPartIsLast","leftPart","rightPart","comparison","localeCompare","collectFiles","matchingFileOperation","rootDirectoryUrl","matchingFileResultArray","visitDirectory","directoryItems","all","map","directoryItem","directoryChildNodeUrl","directoryChildNodeStats","subDirectoryUrl","relativeUrl","operationResult","fileStats","sort","leftFile","rightFile","mkdir","promises","writeDirectory","destination","recursive","allowUseless","destinationUrl","destinationPath","destinationStats","destinationType","resolveUrl","baseUrlFallback","cwd","ensureParentDirectories","destinationParentPath","dirname","addCallback","triggerHangUpOrDeath","once","removeListener","SIGUPSignal","SIGINTSignal","triggerTermination","SIGTERMSignal","beforeExitCallbackArray","uninstall","install","filter","beforeExitCallback","onBeforeExit","previous","beforeExitSignal","collectExceptions","exitCallback","on","getExceptions","stop","trackExceptions","exceptionArray","exception","origin","unhandledRejectionCallback","unhandledRejection","rejectionHandledCallback","uncaughtExceptionCallback","uncaughtException","exitSignal","eventRace","SIGHUP","SIGINT","SIGTERM","beforeExit","exit","eventMap","unregisterMap","unregisterAll","args","teardownSignal","createCancellationTokenForProcess","teardownCancelSource","readFilePromisified","promisify","readFileNode","readFile","filePath","isLinux","resolveDirectoryUrl","writeFile","writeFileNode","content","jsenvDirectorySizeTrackingConfig","generateSnapshotFile","projectDirectoryUrl","directorySizeTrackingConfig","snapshotFileRelativeUrl","manifest","manifestFileRelativeUrl","logger","directoryRelativeUrlArray","snapshotFileUrl","snapshot","directoryRelativeUrl","directoryTrackingConfig","track","manifestFileUrl","directoryManifest","directoryFileReport","readDirectoryManifest","generateDirectoryFileReport","report","trackingConfig","snapshotFileContent","JSON","stringify","exitCode","manifestFileContent","parse","fileContent","from","size","path","convertFileSystemErrorToResponseProperties","isErrorWithCode","status","statusText","headers","Symbol","observable","for","nodeRequire","require","filenameContainsBackSlashes","__filename","jsenvContentTypeMap","extensions","urlToContentType","contentTypeMap","contentTypeDefault","extensionWithDot","extname","extension","availableContentTypes","contentTypeForExtension","contentTypeName","contentType","serveFile","method","canReadDirectory","cacheStrategy","clientCacheDisabled","cacheWithMtime","cacheWithETag","cachedDisabled","sourceStat","directoryContentArray","directoryContentJson","body","fileContentAsBuffer","fileContentEtag","cachedModificationDate","actualModificationDate","dateToSecondsPrecision","mtime","Number","dateToUTCString","createReadStream","date","toUTCString","dateWithSecondsPrecision","setMilliseconds","createRequire","nodeFetch","AbortController","Response","fetchUrl","simplified","ignoreHttpsError","options","response","standardResponseToSimplifiedResponse","abortController","abort","signal","agent","Agent","rejectUnauthorized","text","responseToHeaders","killPort","getPullRequestCommentMatching","repositoryOwner","repositoryName","pullRequestNumber","githubToken","regex","listPullRequestCommentResponse","listPullRequestComment","createErrorWhileSearchingGistInPullRequestComments","createUnexpectedResponseForListPullRequestComment","responseBodyAsJson","json","commentList","comment","match","authorization","stack","createPullRequestComment","commentBody","createPullRequestCommentResponse","genericCreatePullRequestComment","createErrorWhileCreatingPullRequestComment","createUnexpectedResponseForCreatePullRequestComment","byteLength","updatePullRequestComment","commentId","updatePullRequestCommentResponse","genericUpdatePullRequestComment","createErrorWhileUpdatingPullRequestComment","createUnexpectedResponseForUpdatePullRequestComment","enDecimalFormatter","Intl","NumberFormat","style","formatSizeFallback","sizeNumber","diff","unit","sizeNumberAbsolute","abs","sizeString","format","generatePullRequestCommentString","pullRequestBase","pullRequestHead","snapshotComparison","formatSize","generatedByLink","directoryMessages","directoryComparison","sizeImpactMap","sizeImpact","hasImpact","base","head","headSize","why","baseSize","diffSize","sizeImpactText","generateSizeImpactText","generateSizeImpactDetails","join","generateSizeImpactTable","formatCacheImpact","renderTableBody","lines","relativePath","generateEventCellText","generateImpactCellText","generateBaseCellText","generateHeadCellText","changedFiles","numberOfChangedFiles","numberOfBytes","number","compareTwoSnapshots","baseSnapshot","headSnapshot","compareDirectorySnapshot","baseManifest","headManifest","baseReport","headReport","baseMappings","manifestToMappings","headMappings","added","headRelativeUrl","removed","baseRelativeUrl","updated","headRelativeUrlMapped","headTrackingConfig","headSpecifierMetaMap","baseRelativeUrlMapped","sortDirectoryStructure","mappings","originalRelativeUrl","directoryStructure","relativeUrlSortedArray","directoryStructureSorted","regexForMergingSizeImpact","reportSizeImpactIntoGithubPullRequest","baseSnapshotFileRelativeUrl","headSnapshotFileRelativeUrl","getOptionsFromGithubAction","baseSnapshotFileUrl","headSnapshotFileUrl","snapshotsPromise","getPullRequestHref","existingCommentPromise","baseSnapshotFileContent","headSnapshotFileContent","existingComment","pullRequestCommentString","html_url","id","eventName","env","GITHUB_EVENT_NAME","githubRepository","GITHUB_REPOSITORY","githubRef","GITHUB_REF","githubRefToPullRequestNumber","githubBaseRef","GITHUB_BASE_REF","githubHeadRef","GITHUB_HEAD_REF","GITHUB_TOKEN","ref","pullPrefix","pullRequestNumberStartIndex","afterPull","slashAfterPullIndex","pullRequestNumberString"],"mappings":"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"}